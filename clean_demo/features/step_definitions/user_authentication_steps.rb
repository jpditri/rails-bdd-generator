Given('I am on the signup page') do   visit signup_path end  When('I fill in valid user details') do   fill_in 'Email', with: 'test@example.com'    fill_in 'Password', with: 'password'   fill_in 'Password Confirmation', with: 'password' end  When('I submit the signup form') do   click_button 'Sign up' end  Then('I should be logged in') do   expect(page).to have_content 'Welcome' end  Then('I should see a welcome message') do   expect(page).to have_content 'Welcome aboard!'   end  Given('I am a registered user') do   @user = create(:user) end  Given('I am on the login page') do   visit login_path   end  When('I fill in valid credentials') do   fill_in 'Email', with: @user.email   fill_in 'Password', with: @user.password end  When('I submit the login form') do   click_button 'Log in' end  Then('I should be on my dashboard') do   expect(current_path).to eq dashboard_path end  Given('I am logged in') do   step 'I am a registered user'   step 'I am on the login page'   step 'I fill in valid credentials'   step 'I submit the login form' end  When('I click the logout link') do   click_link 'Log out'   end  Then('I should be logged out') do   expect(page).to_not have_content 'Log out' end  Then('I should see a logout confirmation message') do   expect(page).to have_content 'You have been logged out' end    When('I fill in invalid user details') do   fill_in 'Email', with: 'invalid'   fill_in 'Password', with: 'short'  end  Then('I should see error messages') do   expect(page).to have_content 'Error' end  Then('I should not be signed up') do   expect(User.count).to eq 0 end  When('I fill in invalid credentials') do     fill_in 'Email', with: 'wrong@example.com'   fill_in 'Password', with: 'incorrect' end  Then('I should see an authentication error message') do   expect(page).to have_content 'Invalid email or password'   end  Then('I should not be logged in') do   expect(page).to_not have_content 'Log out' end